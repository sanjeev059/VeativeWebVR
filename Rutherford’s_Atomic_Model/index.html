<!-- <a-entity gearvr-controls laser-controls="hand: right" id="controller" line="color: #00ffff; opacity: 0.75" raycaster="far: 2"></a-entity> -->
<link rel="manifest" href="manifest.json">
<Title>Rutherford's Atomic Model</Title>

<script src="scripts/aframe.min.js"></script>
<script src="scripts/aframe-extras.min.js"></script>
<script src="scripts/utility.js"></script>
<script src="scripts/voiceover.js"></script>
<script src="scripts/gamemanager.js"></script>
<script src="scripts/cardboardjoystick.js"></script>
<script src="scripts/colorchange.js"></script>
<script src="scripts/questionmanager.js"></script>
<script src="scripts/scoremanager.js"></script>
<script src="scripts/databasemanager.js"></script>
<script src="scripts/login.js"></script>
<script src="appdata.js"></script>
<script src="scripts/cursorzoom.js"></script>
<script src="scripts/highlight.js"></script>
<script src="scripts/animation.js"></script>

<script>
    AFRAME.registerComponent('auto-enter-vr', {
        init: function() {
            //this.el.sceneEl.enterVR();
            var scene = this;

            scene.el.addEventListener('loaded', function() {
                setTimeout(function() {

                }, 3000);
            });

        }
    });

    AFRAME.registerComponent('foo', {
        init: function() {

            this.el.addEventListener('animationcomplete', myfun);
        }
    });



    function myfun() {
        console.log("Responding-----------------------");
    }
</script>
<!-- --------------------------------------------------------------------------------- -->

<a-scene renderer="antialias: true;
colorManagement: true;
sortObjects: true;
physicallyCorrectLights: true;">


    <!-- Controllers -->
    <a-entity setactive="value:false" gearvr-controls laser-controls="hand: right" id="gvrc" line="color: #00ffff; opacity: 0.75"></a-entity>
    <a-entity setactive="value:false" daydream-controls laser-controls="hand: right" id="ddc" line="color: #00ffff; opacity: 0.75"></a-entity>
    <a-entity setactive="value:false" oculus-go-controls laser-controls="hand: right" id="oc" line="color: #00ffff; opacity: 0.75"></a-entity>
    <!-- /Controllers -->



    <a-sound id="s_click" src="src: url(sounds/click.mp3)" poolSize=5></a-sound>
    <a-sound id="s_hover" src="src: url(sounds/hover.wav)" poolSize=5></a-sound>
    <a-sound id="s_btn_lo" src="src: url(sounds/btn_lo.wav)" poolSize=5></a-sound>
    <a-sound id="s_btn_l1" src="src: url(sounds/btn_l1.wav)" poolSize=5></a-sound>
    <a-sound id="s_btn_as" src="src: url(sounds/btn_as.wav)" poolSize=5></a-sound>
    <a-sound id="s_btn_close" src="src: url(sounds/btn_close.wav)" poolSize=5></a-sound>
    <a-sound id="s_currectOption" src="src: url(sounds/currectOption.wav)" poolSize=5></a-sound>
    <a-sound id="s_p_objective" src="src: url(sounds/p_objective.wav)" poolSize=5></a-sound>
    <a-sound id="s_p_complete" src="src: url(sounds/p_complete.wav)" poolSize=5></a-sound>
    <a-sound id="s_p_score_inst" src="src: url(sounds/p_score_inst.wav)" poolSize=5></a-sound>
    <a-sound id="s_p_comp_as" src="src: url(sounds/p_comp_as.wav)" poolSize=5></a-sound>
    <a-sound id="s_p_greaterthan" src="src: url(sounds/p_greaterthan.wav)" poolSize=5></a-sound>
    <a-sound id="s_p_lessthan" src="src: url(sounds/p_lessthan.wav)" poolSize=5></a-sound>
    <a-sound id="s_p_HereWeHave_Lvl1" src="src: url(sounds/p_HereWeHave_Lvl1.wav)" poolSize=5></a-sound>
    <a-sound id="s_i_ClickOnAllPart_Lvl1" src="src: url(sounds/i_ClickOnAllPart_Lvl1.wav)" poolSize=5></a-sound>
    <a-sound id="s_p_anAtomConsist_Lvl1" src="src: url(sounds/p_anAtomConsist_Lvl1.wav)" poolSize=5></a-sound>
    <a-sound id="s_p_theElectronsAre_Lvl1" src="src: url(sounds/p_theElectronsAre_Lvl1.wav)" poolSize=5></a-sound>
    <a-sound id="s_p_ActivityComplete_Lvl1" src="src: url(sounds/p_ActivityComplete_Lvl1.wav)" poolSize=5></a-sound>
    <a-sound id="s_i_AS_Lvl1" src="src: url(sounds/i_AS_Lvl1.wav)" poolSize=5></a-sound>
    <a-sound id="s_AS_ModelCarbonShell" src="src: url(sounds/mechModel.wav)" poolSize=5></a-sound>
    <a-sound id="s_AS_ModelCarbon" src="src: url(sounds/bohrModel.wav)" poolSize=5></a-sound>
    <a-sound id="s_AS_ModelCjj" src="src: url(sounds/rutherFordModel.wav)" poolSize=5></a-sound>
    <a-sound id="s_AS_ModelQuantumOrbital" src="src: url(sounds/jjThomsan.wav)" poolSize=5></a-sound>
    <a-sound id="s_i_selectTheMgStruc_AS" src="src: url(sounds/i_selectTheMgStruc_AS.wav)" poolSize=5></a-sound>
    <a-sound id="s_rutherMg" src="src: url(sounds/rutherMg.wav)" poolSize=5></a-sound>
    <a-sound id="s_btn_okAutoCorrectL2" src="src: url(sounds/btn_okAutoCorrectL2.wav)" poolSize=5></a-sound>



    <a-assets id="assets" timeout="3600000">

        <img id="tex_menu_off" src="images/Btn_Off.png">
        <img id="tex_menu_on" src="images/Btn_On.png">

        <img id="img360" src="images/skybox.jpg">
        <audio id="bgsound" src="sounds/bg.mp3"></audio>


<!-- Vikas Model Loding.................... -->
      <a-asset-item id="SIFI_L1" src="hs200040_Data/SI_FI_Table/SI_FI.gltf"></a-asset-item>
      <a-asset-item id="HeNucleus_L1" src="hs200040_Data/He_Nucleus/He_Nucleus.gltf"></a-asset-item>

      <!-- Load Models For Asses Your knowledge Level -->

      <a-asset-item id="M_CarbonShell_L1" src="hs200040_Data/Carbon_Shell/Carbon_Shell.gltf"></a-asset-item>
      <a-asset-item id="M_Carbon_L1" src="hs200040_Data/Carbon/Carbon.gltf"></a-asset-item>
      <a-asset-item id="M_Cjj_L1" src="hs200040_Data/C_jj_Model/C_jj_Model.gltf"></a-asset-item>
      <a-asset-item id="M_QuantumOribtal_L1" src="hs200040_Data/C_Quantm_Orbitals/C_Quantm_Orbitals.gltf"></a-asset-item>


<!-- End -->


        <img id="MainMenu_close" src="models/Images/close.png">
        <a-mixin id="Welldone" text="value:Well Done ; width:2.8 ; align:center;  color: #35ff35"></a-mixin>
        <a-mixin id="Tryagain" text="value:Try Again ; width:2.8 ; align:center;  color: red"></a-mixin>
        <a-mixin id="OK" text="value: OK; align:center; width: 3; color: white" material="color: black; opacity:0.8" click_sound cardboard_input color_hover>
        </a-mixin>
    </a-assets>

    <a-sound src="#bgsound" autoplay="true" volume="0.5" loop='true'></a-sound>


    <!-- ----------------------------  Main Menu  ------------------------------------- -->
    <a-entity id="MainMenu" setactive="value:false">

        <a-sky src="#img360" rotation="0 -90 0"></a-sky>


        <!-- Title -->
        <a-entity position="0 2.5 -3" geometry="primitive: plane; width: 3; height: 0.35;" material="color: black; opacity:1" text="value: Rutherford's Atomic Model; align:center; width: 5 ">
        </a-entity>


        <a-image id="btn_lo" position="-1.3 1.5 -3" geometry="primitive: plane; width: 1.2; height: 0.65" material="color: white; opacity:1 ; src: #tex_menu_off ;" text="value: View learning \n objectives; align:center; width: 3" click_sound cardboard_input vo_hover color_hover onclick="OnClickObjective();">
        </a-image>

        <a-image id="btn_l1" position="0 1.5 -3" geometry="primitive: plane; width: 1.2; height: 0.65" material="color: white; opacity:1 ; src: #tex_menu_off ;" text="value: Description\n of Rutherford's\n atomic model;

              align:center; width: 3" click_sound cardboard_input vo_hover color_hover onclick="OnClickL1();">
        </a-image>



        <a-image id="btn_as" position="1.3 1.5 -3" geometry="primitive: plane; width: 1.2; height: 0.65" material="color: white; opacity:1 ; src: #tex_menu_off ;" text="value: Assess your \n knowledge; align:center; width: 3" click_sound cardboard_input vo_hover color_hover onclick="OnClickAS();">
        </a-image>


        <a-image id="btn_close" setactive="value:true" position="1.2 2.2 -2" src="#MainMenu_close" geometry="primitive: plane; width: 0.18; height: 0.18" click_sound cardboard_input vo_hover onclick="btn_close_click();">
        </a-image>


    </a-entity>




    <!-- ----------------------------  /Main Menu  ------------------------------------- -->


    <!-- ----------------------------  Objective Scene  ------------------------------------- -->
    <a-entity id="LO" setactive="value:false">
        <a-sky src="#img360" rotation="0 -90 0"></a-sky>


        <!-- Objective panel -->
        <a-entity id="p_objective" position="0 2 -3" vo_enable="play:false" geometry="primitive: plane; width: 3.2; height: 1.5" material="color: black; opacity:1">
            <a-text value="Learning Objectives

After completing this module, you will be able to:
1- Describe the structure of an atom according to
   Rutherford's atomic model.
2- Identify Rutherford's model of an atom." position="-1.4 0.2 0" align="left" width="3"></a-text>

            <!-- Ok button -->
            <a-image id="btn_ok" position="0 -0.56 0.01" src="#tex_menu_off" geometry="primitive: plane; width: 0.6; height: 0.3" text="value: OK; align:center; width: 3; color: white" click_sound cardboard_input color_hover onclick="OnClickObjectiveOk();">
            </a-image>

        </a-entity>


    </a-entity>
    <!-- ----------------------------  /Objective Scene  ------------------------------------- -->


    <!-- ----------------------------  Level 1  ------------------------------------- -->
    <a-entity id="L1" setactive="value:false">

      <a-sky src="#img360" rotation="0 -90 0"></a-sky>
        <a-light intensity="1" position="0 0 0" rotation="0 0 0" type="ambient"></a-light>

        <a-entity id="SI_FI_Lvl1" setactive="value:true;scale:1"
        gltf-model="#SIFI_L1" position="0 -0.5 -5"
        scale="1 1 1" rotation="0 0 0">
      </a-entity>


      <a-entity id="HeNucleus_Lvl1" setactive="value:false;scale:0.1"
      gltf-model="#HeNucleus_L1" position="0.07 1 -30"
      scale="0.1 0.1 0.1" rotation="0 0 0" click_sound cardboard_input color_hover onclick="">
      </a-entity>
      <a-entity id="HeNucleus_Lvl1_2" setactive="value:false;scale:0.1"
      gltf-model="#HeNucleus_L1" position="-25.8 1.35 -4.3"
      scale="0.1 0.1 0.1" rotation="0 90 0" click_sound cardboard_input color_hover onclick="">
      </a-entity>
      <a-sphere id="Neucleus_l1"  position="0 1.23 -3.75" rotation="0 0 90"
      radius="3.3"  setactive="value:true; scale:0.05" click_sound cardboard_input color_hover onclick=""
       material="color:red;opacity:0">
      </a-sphere>


        <a-entity id="btn_outside1" setactive="value:true;scale:1"
        position="0 1.8 -5" geometry="primitive: plane; width: 2; height: 0.5"
        material="color: black; opacity:0"
        click_sound cardboard_input color_hover onclick="">
        </a-entity>
        <a-entity id="btn_outside2" setactive="value:true;scale:1"
        position="-0.7 1.048 -5" rotation="0 0 90" geometry="primitive: plane; width: 2; height: 0.75"
        material="color: black; opacity:0"
        click_sound cardboard_input color_hover onclick="">
        </a-entity>
        <a-entity id="btn_outside3" setactive="value:true;scale:1"
        position="0.7 1.048 -5" rotation="0 0 90" geometry="primitive: plane; width: 2; height: 0.75"
        material="color: black; opacity:0"
        click_sound cardboard_input color_hover onclick="">
        </a-entity>
        <a-entity id="btn_outside4" setactive="value:true;scale:1"
        position="0 0.6 -3.85" geometry="primitive: plane; width: 2; height: 0.5"
        material="color: black; opacity:0"
        click_sound cardboard_input color_hover onclick="">
        </a-entity>




    <a-entity id="p_HereWeHave_Lvl1" position="0 2.5 -3" rotation="0 0 0"
        setactive="value:true" geometry="primitive: plane; width: 2.7; height: 0.8"
        material="color: black; opacity:1" text="value:Here we have Rutherford's model of an atom.
        Click on different parts of the atom to further explore its structure.; align:center; baseline:bottom;  width: 2.8; xOffset:0.0; yOffset:1.5">

        <a-image id="btn_ok" position="0 -0.2 0.01" geometry="primitive: plane; width: 0.5; height: 0.25"
        material="color: black; opacity:0.8" text="value: OK; align:center; width: 3; color: white"
        click_sound cardboard_input color_hover onclick="Ok_ClickOnAllPart();">
        </a-image>
    </a-entity>


    <a-entity id="p_anAtomConsist_Lvl1" position="0 2.5 -3" rotation="0 0 0"
        setactive="value:false" geometry="primitive: plane; width: 2.7; height: 0.8"
        material="color: black; opacity:1" text="value:An atom consists of a small, dense, positively
        charged, nucleus containing all its protons and
        neutrons.; align:center; baseline:bottom;  width: 2.8; xOffset:0.0; yOffset:1.5">

        <a-image id="btn_ok" position="0 -0.2 0.01" geometry="primitive: plane; width: 0.5; height: 0.25"
        material="color: black; opacity:0.8" text="value: OK; align:center; width: 3; color: white"
        click_sound cardboard_input color_hover onclick="click_anAtomConsist_OK();">
        </a-image>
    </a-entity>


    <a-entity id="p_theElectronsAre_Lvl1" position="0 2.5 -3" rotation="0 0 0"
        setactive="value:false" geometry="primitive: plane; width: 2.7; height: 0.8"
        material="color: black; opacity:1" text="value:The electrons are revolving around the nucleus
        in circular paths at very high speeds.;
         align:center; baseline:bottom;  width: 2.8; xOffset:0.0; yOffset:1.5">

        <a-image id="btn_ok" position="0 -0.2 0.01" geometry="primitive: plane; width: 0.5; height: 0.25"
        material="color: black; opacity:0.8" text="value: OK; align:center; width: 3; color: white"
        click_sound cardboard_input color_hover onclick="click_theElectronsAre_OK();">
        </a-image>
    </a-entity>


    <a-entity id="p_ActivityComplete_Lvl1" position="0 2.5 -3" rotation="0 0 0"
        setactive="value:false" geometry="primitive: plane; width: 2.7; height: 0.8"
        material="color: black; opacity:1" text="value:You have completed this activity.
        Select OK to return to the menu and continue to the next activity.; align:center; baseline:bottom;  width: 2.8; xOffset:0.0; yOffset:1.5">

        <a-image id="btn_ok" position="0 -0.2 0.01" geometry="primitive: plane; width: 0.5; height: 0.25"
        material="color: black; opacity:0.8" text="value: OK; align:center; width: 3; color: white"
        click_sound cardboard_input color_hover onclick="click_ActivityComplete_OK();">
        </a-image>
    </a-entity>


    </a-entity>


    <!-- ----------------------------  Level 1 Completed ------------------------------------- -->


    <!-- ----------------------------  A_Knowledge  ------------------------------------- -->


    <a-light intensity="3" position="0 0 0" rotation="0 0 0" type="ambient"></a-light>


    <a-entity id="AS" setactive="value:false">
      <!-- Load background image in A_Knowledge -->
    <a-sky src="#img360" rotation="0 -90 0"></a-sky>




    <a-entity id="p_score_inst" position="0 2 -3" rotation="0 0 0"
    setactive="value:true" geometry="primitive: plane; width: 3; height: 1.1" material="color: black; opacity:1"
     text="value:Follow the instructions to perform the assessment and earn points.  You can try multiple times, but points are only awarded if you answer correctly on the first try.; align:center; baseline:bottom;  width: 2.8; xOffset:0.0; yOffset:1">

        <a-image id="btn_ok" position="0 -0.3 0.01" geometry="primitive: plane; width: 0.5; height: 0.25" material="color: black; opacity:0.8" text="value: OK; align:center; width: 3; color: white"
        click_sound cardboard_input color_hover onclick="onClick_ScoreOK();">
        </a-image>
    </a-entity>


    <!---------------------------------------------------Q1 Option A -------------------------->

        <a-entity id="AS_ModelCarbonShell" setactive="value:true; scale:0.15"
        gltf-model="#M_CarbonShell_L1" position="-30 10.5 -45.07"
        scale="0.15 0.15 0.15" rotation="0 90 0" anim>
        <a-sphere id="q1aHighl" highlight position="-203.2 -2.104 -341.6"
        setactive="value:false; scale:1" radius="4"
        material="color:red; opacity:0.35">
        </a-sphere>
        <a-sphere id="q1aforclick"  position="32.55 -3.2 430.94" rotation="0 120 0"
        radius="50"  setactive="value:true; scale:1"
         material="color:red;opacity:0"
         click_sound cardboard_input onclick="onClickModel1Q1();" >
        </a-sphere>
      </a-entity>



      <!-----------#1702d2----------------------------------------Q1 Option B -------------------------->

        <a-entity id="AS_ModelCarbon" setactive="value:true; scale:0.1"
        gltf-model="#M_Carbon_L1" position="-116.181 7.944 -0.262"
        scale="0.1 0.1 0.1" rotation="0 -70 0">

        <a-sphere id="q1bHighl" highlight position="0.018 0.953 -972.8" rotation="0 120 0"
        radius="3.3"  setactive="value:false; scale:1"
         material="color:red;opacity:0.35">
        </a-sphere>
        <a-sphere id="q1bforclick"  position="0 0 -971" rotation="0 120 0"
        radius="50"  setactive="value:true; scale:1"
         material="color:red;opacity:0" click_sound cardboard_input onclick="onClickModel2Q1();">
        </a-sphere>
      </a-entity>

      <!---------------------------------------------------Q1 Option C -------------------------->

        <a-entity id="AS_ModelCjj" setactive="value:true; scale:0.5"
        gltf-model="#M_Cjj_L1" position="-35 10 -15"
        scale="0.5 0.5 0.5" rotation="0 90 0"
        click_sound cardboard_input onclick="onClickModel3Q1();">

        <a-sphere id="q1cHighl" highlight position="76 2.1 143" rotation="0 45 0"
        setactive="value:false; scale:1" radius="0.85"
         material="color:green;opacity:0.35">
       </a-sphere>

      </a-entity>
<!---------------------------------------------------Q1 Option D -------------------------->
        <a-entity id="AS_ModelQuantumOrbital" setactive="value:true; scale:0.5"
        gltf-model="#M_QuantumOribtal_L1" position="654.8 26.65 -15"
        scale="0.5 0.5 0.5" rotation="0 90 0"
          click_sound cardboard_input onclick="onClickModel4Q1();">

        <a-sphere id="q1dHighl" highlight position="114 0.612 -704" rotation="0 15 0"
         radius="4" setactive="value:false; scale:1 "
         material="color:red;opacity:0.35">
       </a-sphere>
      </a-entity>


      <a-entity id="btn_okAutoCorrect" setactive="value:false; scale:1"
      position="0 2.3 -4" src="#tex_menu_off"
      geometry="primitive: plane; width: 0.6; height: 0.3" material="opacity:0.8"
      text="value: OK; align:center; width: 3; color: white"
      click_sound cardboard_input color_hover onclick="onClick_OkQ1();">
      </a-entity>

          <!--  Ending All Options   -->



          <!---------------------------------------------------Q2 Option A -------------------------->

        <a-entity id="AS_ModelCarbonShellL2" setactive="value:false; scale:0.15"
        gltf-model="#M_CarbonShell_L1" position="-142 11 -13"
        scale="0.15 0.15 0.15" rotation="0 90 0">

        <a-sphere id="q1aHighlL2" highlight position="70 7.5 381"
        setactive="value:false; scale:1" radius="4"
        material="color:green; opacity:0.35">
        </a-sphere>
        <a-sphere id="q2aforclick"  position="39.34 1.35 454" rotation="0 120 0"
        radius="52"  setactive="value:true; scale:1"
         material="color:red;opacity:0"
         click_sound cardboard_input onclick="onClickModel1Q2();" >

      </a-entity>



      <!-----------#1702d2----------------------------------------Q2 Option B -------------------------->

        <a-entity id="AS_ModelCarbonL2" setactive="value:false; scale:0.1"
        gltf-model="#M_Carbon_L1" position="-116.181 7.944 -0.262"
        scale="0.1 0.1 0.1" rotation="0 -70 0">

        <a-sphere id="q1bHighlL2" highlight position="0.018 0.953 -972.8" rotation="0 120 0"
        radius="3.3"  setactive="value:false; scale:1"
         material="color:red;opacity:0.35">
        </a-sphere>
        <a-sphere id="q2bforclick"  position="0.018 0.953 -972.8" rotation="0 120 0"
        radius="52"  setactive="value:true; scale:1"
         material="color:red;opacity:0"
         click_sound cardboard_input onclick="onClickModel2Q2();" >
         </a-sphere>
      </a-entity>


      <!---------------------------------------------------Q2 Option C -------------------------->

        <a-entity id="AS_ModelCjjL2" setactive="value:false; scale:0.5"
        gltf-model="#M_Cjj_L1" position="70 10 -56"
        scale="0.5 0.5 0.5" rotation="0 90 0"
        click_sound cardboard_input onclick="onClickModel3Q2();">

        <a-sphere id="q1cHighlL2" highlight position="4.2 1.2 -90" rotation="0 60 0"
        setactive="value:false; scale:1" radius="1.3"
         material="color:red;opacity:0.35">
       </a-sphere>

      </a-entity>
<!---------------------------------------------------Q2 Option D -------------------------->
        <a-entity id="AS_ModelQuantumOrbitalL2" setactive="value:false; scale:0.5"
        gltf-model="#M_QuantumOribtal_L1" position="526 22 19"
        scale="0.5 0.5 0.5" rotation="0 90 0"
        click_sound cardboard_input onclick="onClickModel4Q2();">

        <a-sphere id="q1dHighlL2" highlight position="126 10 -672" rotation="0 15 0"
         radius="4.3" setactive="value:false; scale:1 "
         material="color:red;opacity:0.35">
       </a-sphere>
      </a-entity>

      <a-entity id="btn_okAutoCorrectL2" setactive="value:false; scale:1"
      position="0 2.3 -4" src="#tex_menu_off"
      geometry="primitive: plane; width: 0.6; height: 0.3" material="opacity:0.8"
      text="value: OK; align:center; width: 3; color: white"
      click_sound cardboard_input color_hover onclick="onClick_OkL2Q2();">
      </a-entity>

          <!--  Ending All Options   -->



      <a-entity id="p_comp_as" position="0 2 -3" setactive="value:false"
      geometry="primitive: plane; width: 2.4; height: 1.1" material="color: black; opacity:1">

          <a-text value="You have completed the assessment.
  Here is your score:" position="0 0.3 0" align="center" width="2.8"></a-text>

          <a-text id="score_percent" value="100 %" position="0 0 0" align="center" width="2.8"></a-text>

          <a-image id="btn_ok" mixin="OK" width="0.5" height="0.25" position="0 -0.2 0.01"
          onclick="p_comp_as_click();">

      </a-entity>


      <a-entity id="p_lessthan" position="0 2 -3" setactive="value:false" geometry="primitive: plane; width: 3; height: 1.1" material="color: black; opacity:1">

          <a-text value="You have scored less than 60%. After returning
    to the menu, you can try the assessment
    again to improve your score, or you can exit." position="0 0.2 0" align="center" width="2.8"></a-text>

          <a-image id="btn_ok" mixin="OK" width="0.5" height="0.25" position="0 -0.3 0.01"
          onclick="p_lessthan_click();">

      </a-entity>


      <a-entity id="p_greaterthan" position="0 2 -3" setactive="value:false" geometry="primitive: plane; width: 3; height: 1.1" material="color: black; opacity:1">

          <a-text value="You scored well and you have completed the module! Select OK to return to the menu where you can exit." position="0 0.2 0" align="center" width="2.8"></a-text>

          <a-image id="btn_ok" mixin="OK" width="0.5" height="0.25" position="0 -0.3 0.01"
          onclick="p_greaterthan_click();">

      </a-entity>
  </a-entity>
    <!-- ----------------------------  /A_Knowledge  ------------------------------------- -->



  <!------------------------------------------ Camera instructions -->

    <a-camera look-controls wasd-controls="ad-enabled:false;ws-enabled:false">
    <a-cursor fuse="false" cursor-zoom id="cursor" setactive="value:false" fuseTimeout='60000' rayOrigin="mouse" geometry="primitive: ring" material="color: white;  shader: flat">
    </a-cursor>

                  <a-entity id="i_ClickOnAllPart_Lvl1" setactive="value:false ; scale :0.1" vo_enable position="0 -0.13 -0.3" scale="0.1 0.1 0.1"
                  geometry="primitive: plane; width: 2.5; height: 0.4" material="color: black; opacity:1"
                  text="value:Click on the nucleus and/or the electrons to further explore Rutherford's atomic model.; align:center; width: 2.8;">
                  </a-entity>

                  <a-entity id="l_score" setactive="value:false ; scale: 0.1" position="-0.10 0.1 -0.3" scale="0.1 0.1 0.1"
                  geometry="primitive: plane; width: 0.8; height: 0.25" material="color: black; opacity:1" text="value: Score : 0 ; align:center; width: 2.8;">
                  </a-entity>

                  <a-entity id="i_AS_Lvl1" setactive="value:false ; scale :0.1" vo_enable position="0 -0.13 -0.3" scale="0.1 0.1 0.1"
                  geometry="primitive: plane; width: 2.5; height: 0.4" material="color: black; opacity:1"
                  text="value:Select the structure of a carbon atom \naccording to Rutherford's atomic model; align:center; width: 2.8;">
                  </a-entity>

             <a-entity id="i_selectTheMgStruc_AS" setactive="value:false ; scale :0.1" vo_enable position="0 -0.13 -0.3" scale="0.1 0.1 0.1"
                       geometry="primitive: plane; width: 2.3; height: 0.4" material="color: black; opacity:1"
                       text="value:Select the structure of a magnesium atom according to Rutherford's atomic model.;align:center; width: 2.6;">
             </a-entity>

    </a-camera>

</a-scene>





<!-- -------------------------------------------------------------------------------------------------------------------- -->
<script>
    var assetsId = '#assets';
    var entity = document.querySelector(assetsId);
    var controllerId = null;

    if (entity != null) {
        entity.addEventListener("loaded", function() {
            console.log("All Assets looded");
            setTimeout(ShowMainMenu, 2000);
            setInterval(ActivateController, 1000);
            login_isUserAuthenticated();

        });

        entity.addEventListener("timeout", function() {
            console.log("Time up to load assets");
            setTimeout(location.reload.bind(location), 500);
        });

    } else {
        console.log("Exception : Id not found ID: ", assetsId);
    }


    function ShowMainMenu() {
        SetActive('#MainMenu', true);
        if (!login_isReferred()) {
            SetActive('#btn_close', false);
        }
    }


    function ActivateController() {
        let cId = "";

        if (AFRAME.utils.device.isGearVR()) {
            cId = '#gvrc';
            app_device_platform = "GearVR";
        } else if (isDayDream()) {
            cId = '#ddc';
            var gvrc = document.querySelector('#gvrc');
            var oc = document.querySelector('#oc');
            gvrc.parentNode.removeChild(gvrc);
            oc.parentNode.removeChild(oc);
            SetActive('#cursor', false);
            app_device_platform = "Daydream";
        } else if (AFRAME.utils.device.isOculusGo()) {
            cId = '#oc';
            app_device_platform = "OculusGo";
        } else {
            cId = '#cursor';

            let isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

            if (isMobile) {
                app_device_platform = "Cardboard";
                let scene = document.querySelector('a-scene');
                //scene.setAttribute('vr-mode-ui','enabled',true);
            } else {
                app_device_platform = "Desktop";
                let scene = document.querySelector('a-scene');
                //scene.setAttribute('vr-mode-ui','enabled',false);
            }

        }

        if (cId != controllerId) {
            SetActive(controllerId, false);
            controllerId = cId;
            SetActive(controllerId, true);
            console.log("controller id is ", controllerId);
        }
    }

    function isDayDream() {
        let isDayDream = false;
        let gamepad = navigator.getGamepads()[0];
        if (gamepad != undefined) {
            let gamepadId = gamepad.id;
            isDayDream = gamepadId.includes("Daydream") || gamepadId.includes("daydream");
        }
        return isDayDream;
    }


    window.onload = function() {

        login_referred_set();

        if (!login_isUserAuthenticated()) {
           window.location.href = "http://ec2-52-5-117-32.compute-1.amazonaws.com/unicef/public/";
        } else {
            console.log("Id : ", login_getCookie('unicef_user_id'));
        }

      //  setInterval(AuthCheck, 3000);

    };


    // function AuthCheck()
    // {
    //   if (!login_isUserAuthenticated()) {
    //       window.location.href = "http://ec2-52-5-117-32.compute-1.amazonaws.com/unicef/public/";
    //   }
    // }



</script>
