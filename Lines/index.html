<!-- <a-entity gearvr-controls laser-controls="hand: right" id="controller" line="color: #00ffff; opacity: 0.75" raycaster="far: 2"></a-entity> -->
<link rel="manifest" href="manifest.json">
<Title>Lines</Title>

<script src="scripts/aframe.min.js"></script>
<script src="scripts/aframe-extras.min.js"></script>
<script src="scripts/utility.js"></script>
<script src="scripts/voiceover.js"></script>
<script src="scripts/gamemanager.js"></script>
<script src="scripts/cardboardjoystick.js"></script>
<script src="scripts/colorchange.js"></script>
<script src="scripts/questionmanager.js"></script>
<script src="scripts/scoremanager.js"></script>
<script src="scripts/databasemanager.js"></script>
<script src="scripts/login.js"></script>
<script src="appdata.js"></script>
<script src="scripts/cursorzoom.js"></script>
<script src="scripts/highlight.js"></script>
<script src="scripts/animation.js"></script>
<!-- <script src="scripts/soundbox.js"></script> -->



<script>
    AFRAME.registerComponent('auto-enter-vr', {
        init: function() {
            //this.el.sceneEl.enterVR();
            var scene = this;

            scene.el.addEventListener('loaded', function() {
                setTimeout(function() {

                }, 3000);
            });

        }
    });

    AFRAME.registerComponent('foo', {
        init: function() {

            this.el.addEventListener('animationcomplete', myfun);
        }
    });



    function myfun() {
        console.log("Responding-----------------------");
    }
</script>
<!-- --------------------------------------------------------------------------------- -->

<a-scene renderer="antialias: true;
colorManagement: true;
sortObjects: true;
physicallyCorrectLights: true;">


    <!-- Controllers -->
    <a-entity setactive="value:false" gearvr-controls laser-controls="hand: right" id="gvrc" line="color: #00ffff; opacity: 0.75"></a-entity>
    <a-entity setactive="value:false" daydream-controls laser-controls="hand: right" id="ddc" line="color: #00ffff; opacity: 0.75"></a-entity>
    <a-entity setactive="value:false" oculus-go-controls laser-controls="hand: right" id="oc" line="color: #00ffff; opacity: 0.75"></a-entity>
    <!-- /Controllers -->



    <a-sound id="s_click" src="src: url(sounds/click.mp3)" poolSize=5></a-sound>
    <a-sound id="s_hover" src="src: url(sounds/hover.wav)" poolSize=5></a-sound>
    <a-sound id="s_btn_lo" src="src: url(sounds/btn_lo.wav)" poolSize=5></a-sound>
    <a-sound id="s_btn_l1" src="src: url(sounds/btn_l1.wav)" poolSize=5></a-sound>
    <a-sound id="s_btn_as" src="src: url(sounds/btn_as.wav)" poolSize=5></a-sound>
    <a-sound id="s_btn_close" src="src: url(sounds/btn_close.wav)" poolSize=5></a-sound>
    <a-sound id="s_currectOption" src="src: url(sounds/currectOption.wav)" poolSize=5></a-sound>
    <a-sound id="s_p_objective" src="src: url(sounds/p_objective.wav)" poolSize=5></a-sound>
    <a-sound id="s_p_complete" src="src: url(sounds/p_complete.wav)" poolSize=5></a-sound>
    <a-sound id="s_p_score_inst" src="src: url(sounds/p_score_inst.wav)" poolSize=5></a-sound>
    <a-sound id="s_p_comp_as" src="src: url(sounds/p_comp_as.wav)" poolSize=5></a-sound>
    <a-sound id="s_p_greaterthan" src="src: url(sounds/p_greaterthan.wav)" poolSize=5></a-sound>
    <a-sound id="s_p_lessthan" src="src: url(sounds/p_lessthan.wav)" poolSize=5></a-sound>
    <a-sound id="s_Animation_VO" src="src: url(sounds/Animation_VO.wav)" poolSize=5></a-sound>
    <!-- <a-sound id="s_i_ClickOnAllPart_Lvl1" src="src: url(sounds/i_ClickOnAllPart_Lvl1.wav)" poolSize=5></a-sound> -->
    <!-- <a-sound id="s_p_anAtomConsist_Lvl1" src="src: url(sounds/p_anAtomConsist_Lvl1.wav)" poolSize=5></a-sound> -->
    <!-- <a-sound id="s_p_theElectronsAre_Lvl1" src="src: url(sounds/p_theElectronsAre_Lvl1.wav)" poolSize=5></a-sound> -->
    <a-sound id="s_p_C_Inst_ActivityComplete" src="src: url(sounds/C_Inst_ActivityComplete.wav)" poolSize=5></a-sound>
    <!-- <a-sound id="s_i_AS_Lvl1" src="src: url(sounds/i_AS_Lvl1.wav)" poolSize=5></a-sound> -->
    <a-sound id="s_Line_Question_bg" src="src: url(sounds/Line Question bg.wav)" poolSize=5></a-sound>
    <a-sound id="s_Line_Conclusion_bg" src="src: url(sounds/Line_Conclusion_bg.wav)" poolSize=5></a-sound>

    <a-sound id="s_Intersecting_Line_Question_bg" src="src: url(sounds/Intersecting_Line_Question_bg.wav)" poolSize=5></a-sound>
    <a-sound id="s_Intersecting_Conclusion_bg" src="src: url(sounds/Intersecting_Conclusion_bg.wav)" poolSize=5></a-sound>
    <a-sound id="s_Ray_Line_Question_bg" src="src: url(sounds/Ray_Line_Question_bg.wav)" poolSize=5></a-sound>
    <a-sound id="s_Ray_Line_Conclusion_bg" src="src: url(sounds/Ray_Line_Conclusion_bg.wav)" poolSize=5></a-sound>
    <a-sound id="s_Point_Line_Question_bg" src="src: url(sounds/Point_Line_Question_bg.wav)" poolSize=5></a-sound>
    <a-sound id="s_Point_Line_Conclusion_bg" src="src: url(sounds/Point_Line_Conclusion_bg.wav)" poolSize=5></a-sound>
    <a-sound id="s_Line_Segment_Question_bg" src="src: url(sounds/Line_Segment_Question_bg.wav)" poolSize=5></a-sound>
    <a-sound id="s_Line_Segment_Conclusion_bg" src="src: url(sounds/Line_Segment_Conclusion_bg.wav)" poolSize=5></a-sound>
    <a-sound id="s_Parllel_Line_Question_bg" src="src: url(sounds/Parllel_Line_Question_bg.wav)" poolSize=5></a-sound>
    <a-sound id="s_Parllel_Line_Conclusion_bg" src="src: url(sounds/Parllel_Line_Conclusion_bg.wav)" poolSize=5></a-sound>
    <a-sound id="s_C_TryAgain1" src="src: url(sounds/C_TryAgain1.wav)" poolSize=2></a-sound>
    <a-sound id="s_C_WellDone1" src="src: url(sounds/C_WellDone1.wav)" poolSize=2></a-sound>
    <a-sound id="s_Relaxed_Mode_Button" src="src: url(sounds/Relaxed_Mode_Button.wav)" poolSize=5></a-sound>
    <a-sound id="s_Time_Over" src="src: url(sounds/Time_Over.wav)" poolSize=5></a-sound>
    <!-- <a-sound id="s_btn_okAutoCorrectL2" src="src: url(sounds/btn_okAutoCorrectL2.wav)" poolSize=5></a-sound> -->


    <a-assets id="assets" timeout="3600000">

        <img id="tex_menu_off" src="images/Btn_Off.png">
        <img id="tex_menu_on" src="images/Btn_On.png">

        <img id="img360" src="images/skybox.jpg">
        <audio id="bgsound" src="sounds/bg.mp3"></audio>

<!-- Vikas Model Loding.................... -->

          <a-asset-item id="M_Line" src="ms300045_Lines_Data/Animation/Line.gltf"></a-asset-item>
          <a-asset-item id="M_Cross_Arrow" src="ms300045_Lines_Data/Questions/Cross_Arrow/Cross_Arrow.gltf"></a-asset-item>
          <a-asset-item id="M_Dot" src="ms300045_Lines_Data/Questions/Dot/Dot.gltf"></a-asset-item>
          <a-asset-item id="M_Dot_Arrow" src="ms300045_Lines_Data/Questions/Dot_Arrow/Dot_Arrow.gltf"></a-asset-item>
          <a-asset-item id="M_Dot_Line" src="ms300045_Lines_Data/Questions/Dot_Line/Dot_Line.gltf"></a-asset-item>
          <a-asset-item id="M_Double_Arrow" src="ms300045_Lines_Data/Questions/Double_Arrow/Double_Arrow.gltf"></a-asset-item>
          <a-asset-item id="M_Single_Arrow" src="ms300045_Lines_Data/Questions/Single_Arrow/Single_Arrow.gltf"></a-asset-item>
          <img id="Img_IntersectingLine" src="ms300045_Lines_Data/LinesImages/Intersecting_Line.png">
          <img id="Img_LineSegment" src="ms300045_Lines_Data/LinesImages/Line_Segment.png">
          <img id="Img_Line" src="ms300045_Lines_Data/LinesImages/Line.png">
          <img id="Img_ParallelLine" src="ms300045_Lines_Data/LinesImages/Parallel_Line.png">
          <img id="Img_Point" src="ms300045_Lines_Data/LinesImages/Point.png">
          <img id="Img_Ray" src="ms300045_Lines_Data/LinesImages/Ray.png">

<!-- End -->

        <img id="MainMenu_close" src="images/close.png">
        <a-mixin id="Welldone" text="value:Well Done ; width:2.8 ; align:center;  color: #35ff35"></a-mixin>
        <a-mixin id="Tryagain" text="value:Try Again ; width:2.8 ; align:center;  color: red"></a-mixin>
        <a-mixin id="OK" text="value: OK; align:center; width: 3; color: white" material="color: black; opacity:0.8" click_sound cardboard_input color_hover>
        </a-mixin>
    </a-assets>

    <a-sound src="#bgsound" autoplay="true" volume="0.5" loop='true'></a-sound>

    <!-- ----------------------------  Main Menu  ------------------------------------- -->
    <a-entity id="MainMenu" setactive="value:false">

        <a-sky src="#img360" rotation="0 -90 0"></a-sky>

        <!-- Title -->
        <a-entity position="0 2.5 -3" geometry="primitive: plane; width: 1; height: 0.35;"
         material="color: black; opacity:1" text="value: Lines; align:center; width: 5 ">
        </a-entity>

        <a-image id="btn_lo" position="-1.3 1.5 -3"
        geometry="primitive: plane; width: 1.2; height: 0.65"
         material="color: white; opacity:1 ; src: #tex_menu_off ;"
         text="value: View learning \n objectives;
         align:center; width: 3"
         click_sound cardboard_input vo_hover color_hover onclick="OnClickObjective();">
        </a-image>

        <a-image id="btn_l1" position="0 1.5 -3" geometry="primitive: plane; width: 1.2; height: 0.65"
        material="color: white; opacity:1 ; src: #tex_menu_off ;"
         text="value: Introduction to\n  lines;

              align:center; width: 3" click_sound cardboard_input vo_hover color_hover onclick="OnClickL1();">
        </a-image>

        <a-image id="btn_as" position="1.3 1.5 -3" geometry="primitive: plane; width: 1.2; height: 0.65"
        material="color: white; opacity:1 ; src: #tex_menu_off ;" text="value: Assess your \n knowledge; align:center; width: 3" click_sound cardboard_input vo_hover color_hover onclick="OnClickAS();">
        </a-image>


        <a-image id="btn_close" setactive="value:true" position="1.2 2.2 -2" src="#MainMenu_close" geometry="primitive: plane; width: 0.18; height: 0.18" click_sound cardboard_input vo_hover onclick="btn_close_click();">
        </a-image>

    </a-entity>

    <!-- ----------------------------  /Main Menu  ------------------------------------- -->

    <!-- ----------------------------  Objective Scene  ------------------------------------- -->
    <a-entity id="LO" setactive="value:false">
        <a-sky src="#img360" rotation="0 -90 0"></a-sky>


        <!-- Objective panel -->
        <a-entity id="p_objective" position="0 2 -3" vo_enable="play:false" geometry="primitive: plane; width: 3.2; height: 1.5" material="color: black; opacity:1">
            <a-text value="Learning Objectives

After completing this module, you will be able to:
1- Define intersecting lines.
2- Define parallel lines.
3- Define a point.
4- Define rays and line segments." position="-1.4 0.2 0" align="left" width="3"></a-text>

            <!-- Ok button -->
            <a-image id="btn_ok" position="0 -0.56 0.01" src="#tex_menu_off"
             geometry="primitive: plane; width: 0.6; height: 0.3"
             text="value: OK; align:center; width: 3; color: white"
             click_sound cardboard_input color_hover onclick="OnClickObjectiveOk();">
            </a-image>

        </a-entity>


    </a-entity>
    <!-- ----------------------------  /Objective Scene  ------------------------------------- -->

    <!-- ----------------------------  Level 1  ------------------------------------- -->
    <a-entity id="L1" setactive="value:false">

      <a-sky src="#img360" rotation="0 -90 0"></a-sky>
        <a-light intensity="1" position="0 0 0" rotation="0 0 0" type="ambient"></a-light>

        <a-entity id="M_Line_Lvl1" setactive="value:true;scale:1"
        gltf-model="#M_Line" position="0 0 0"
        scale="1 1 1" rotation="0 0 0">
        </a-entity>

        <a-entity id="p_LineText" position="-.3 1.5 -3" rotation="0 0 0"
            setactive="value:true" geometry="primitive: plane; width: -10; height: 0"
            material="color: black; opacity:1" text="value:A point is shown by a dot\n having no width, no length,\n and no depth.; align:center; baseline:bottom;  width: 2.8; xOffset:0.0; yOffset:1.5">
          </a-entity>

        <a-entity id="p_LineTextDistance" position=".35 1.25 -3" rotation="0 0 0"
            setactive="value:false" geometry="primitive: plane; width: -10; height: 0"
            material="color: black; opacity:1"
            text="value:Distance between lines; align:center; baseline:bottom;
             width: 2.8; xOffset:0.0; yOffset:1.5">
           </a-entity>

           <a-entity id="p_complete_Lvl1" position="0 2.5 -3" rotation="0 0 0"
               setactive="value:false" geometry="primitive: plane; width: 2.7; height: 0.8"
               material="color: black; opacity:1"

               text="value:You have completed this activity. Select OK to return to the menu and continue to the next activity.;
               align:center; baseline:bottom;  width: 2.8; xOffset:0.0; yOffset:1.5">

               <a-image id="btn_ok" position="0 -0.2 0.01" geometry="primitive: plane; width: 0.5; height: 0.25"
               material="color: black; opacity:0.8" text="value: OK; align:center; width: 3; color: white"
               click_sound cardboard_input color_hover onclick="Ok_ClickOnComplete();">
               </a-image>
           </a-entity>

    </a-entity>


    <!-- ----------------------------  Level 1 Completed ------------------------------------- -->

    <!-- ----------------------------  A_Knowledge  ------------------------------------- -->

    <a-light intensity="3" position="0 0 0" rotation="0 0 0" type="ambient"></a-light>

    <a-entity id="AS" setactive="value:false">
      <!-- Load background image in A_Knowledge -->
    <a-sky src="#img360" rotation="0 80 0"></a-sky>

    <a-entity id="p_Mode" position="0 2 -3" rotation="0 0 0"
    setactive="value:true" geometry="primitive: plane; width: 3; height: 1.1" material="color: black; opacity:1"
     text="value:Follow the instructions to perform the assessment and earn points.  You can try multiple times, but points are only awarded if you answer correctly on the first try.; align:center; baseline:bottom;  width: 2.8; xOffset:0.0; yOffset:1">

        <a-image id="btn_ok" position="0 -0.3 0.01" geometry="primitive: plane; width: 0.5; height: 0.25" material="color: black; opacity:0.8" text="value: OK; align:center; width: 3; color: white"
        click_sound cardboard_input color_hover onclick="onModebutton();">
        </a-image>
    </a-entity>

    <a-entity id="p_PlayDisplay" position="0 2 -3" rotation="0 0 0"
    setactive="value:false" geometry="primitive: plane; width:4.5; height:3.6"
    material="color: black; opacity:1">

          <a-image id="img_intersectingLine" setactive="value:true"
          position="-1.5 0.9 0.01" src="#Img_IntersectingLine"
          geometry="primitive: plane; width: 1; height: 1">
          <a-text value="Intersecting Line"
          position="-0.4 0.6 0.01" align="left" width="2.8"></a-text>
          <a-text value="Two lines that cross \n at a common point."
          position="-0.6 -0.6 0.01" align="left" width="2.8"></a-text>
          </a-image>


          <a-image id="img_lineSegment" setactive="value:true"
          position="-0.1 0.9 0.01" src="#Img_LineSegment"
          geometry="primitive: plane; width: 1; height: 1">
          <a-text value="Line Segment "
          position="-0.4 0.6 0.01" align="left" width="2.8"></a-text>
          <a-text value="A straight path which  \n has two end points."
          position="-0.6 -0.6 0.01" align="left" width="2.8"></a-text>
          </a-image>

          <a-image id="img_line" setactive="value:true"
          position="1.2 0.9 0.01" src="#Img_Line"
          geometry="primitive: plane; width: 1; height: 1">
          <a-text value="Line"
          position="-0.12 0.6 0.01" align="left" width="2.8"></a-text>
          <a-text value="A straight path that is \n endless  in both direction."
          position="-0.6 -0.6 0.01" align="left" width="2.8"></a-text>
          </a-image>


          <a-image id="btn_play" position="-0.1 0.02 0.01"
          geometry="primitive: plane; width: 0.6; height: 0.35"
           material="color: white; opacity:1 ; src: #tex_menu_off ;"
           text="value:PLAY;
           align:center; width: 3"
           click_sound cardboard_input vo_hover color_hover onclick="onPlaybutton();">
          </a-image>

          <a-image id="img_parallelLine" setactive="value:true"
          position="-1.6 -0.8 0.01" src="#Img_ParallelLine"
          geometry="primitive: plane; width: 1; height: 1">
          <a-text value="Parallel lines"
          position="-0.5 0.6 0.01" align="left" width="2.8"></a-text>
          <a-text value="Two lines that never\n cross  no matter how\n far they are extended."
          position="-0.6 -0.7 0.01" align="left" width="2.8"></a-text>
          </a-image>

          <a-image id="img_point" setactive="value:true"
          position="-0.1 -0.9 0.01" src="#Img_Point"
          geometry="primitive: plane; width: 1; height: 1">
          <a-text value="Point"
          position="-0.2 0.6 0.01" align="left" width="2.8"></a-text>
          <a-text value="A point is an exact \n position."
          position="-0.6 -0.6 0.01" align="left" width="2.8"></a-text>
          </a-image>

          <a-image id="img_ray" setactive="value:true"
          position="1.3 -0.8 0.01" src="#Img_Ray"
          geometry="primitive: plane; width: 1; height:1">
          <a-text value="Ray"
          position="-0.1 0.6 0.01" align="left" width="2.8"></a-text>
          <a-text value="A ray has one end point\n and is endless in one\n direction."
          position="-0.6 -0.7 0.01" align="left" width="2.8"></a-text>
          </a-image>

    </a-entity>

    <a-entity id="p_Relaxtext" position="0 2 -3" rotation="0 0 0"
    setactive="value:false" geometry="primitive: plane; width: 3.5; height: 2" material="color: black; opacity:.85"
     text="value: Here are 6 questions.
      You are untimed. Try
     to get 100%.; align:left; baseline:center;  width: 2.8; xOffset:0.0; yOffset:1">
     <a-text value="Answer as quickly and\n correctly as you can to\n increase your score."
     position="0.1 -0.01 0" align="left" width="3"></a-text>

     <a-text value="Click on any mode to play."
     position="-1.1 -.7 0" align="left" width="4"></a-text>

    <a-image id="btn_asrelax" position="-.8 .4 0.25"
    geometry="primitive: plane; width: 1.2; height: 0.40"
     material="color: white; opacity:1 ; src: #tex_menu_off ;"
     text="value: RELAXED MODE;
     align:center; width: 3"
     click_sound cardboard_input vo_hover color_hover onclick="onClick_ScoreOK();">

    </a-image>
    <a-image id="btn_astimed" position=".7 .4 0.2" geometry="primitive: plane; width: 1.2; height: 0.4"
    material="color: white; opacity:1 ; src: #tex_menu_off ;"
     text="value: TIMED MODE;

          align:center; width: 3"
          click_sound cardboard_input vo_hover color_hover onclick="onClickTimerMode();">
    </a-image>
</a-entity>

    <!---------------------------------------------------Q1 Option A -------------------------->

        <a-entity id="AS_Cross_Arrow" setactive="value:false; scale:0.15"
        gltf-model="#M_Cross_Arrow" position="-4.79 1.7 -12"
        scale="0.15 0.15 0.15" rotation="0 90 0"
         click_sound cardboard_input onclick="onclickWrongOption(1,'AS_Cross_Arrow');">

        <a-sphere id="q1aHighl" highlight position="0.854 -0.06 -0.353" rotation="0 90 0"
        setactive="value:false; scale:.2" radius="0.07"
        material="color:red; opacity:.8">
        </a-sphere>
      </a-entity>

      <!-----------#1702d2----------------------------------------Q1 Option B -------------------------->

        <a-entity id="AS_Dot" setactive="value:false; scale:1"
        gltf-model="#M_Dot" position="1 2 -11.5"
         rotation="0 90 0"  click_sound cardboard_input onclick="onclickWrongOption(1,'AS_Dot')";>

        <a-sphere id="q1bHighl" highlight position="1.764 -0.06 0.212" rotation="0 90 0"
        radius=".07"  setactive="value:false; scale:.2"
         material="color:red;opacity:.8">
        </a-sphere>
      </a-entity>

      <!-------------------------------onClickModel3Q1();--------------------Q1 Option C -------------------------->

        <a-entity id="AS_Dot_Arrow" setactive="value:false; scale:1"
        gltf-model="#M_Dot_Arrow" position="6 2.5 -11.5"
         rotation="0 90 0"
        click_sound cardboard_input onclick="onclickWrongOption(1,'AS_Dot_Arrow')";>

        <a-sphere id="q1cHighl" highlight position="1 -0.06 0.212" rotation="0 45 0"
        setactive="value:false; scale:.2" radius="0.07"
         material="color:red;opacity:.8">
       </a-sphere>
      </a-entity>
<!----------------------------onClickModel4Q1();-----------------------Q1 Option D -------------------------->
       <a-entity id="AS_Dot_Line" setactive="value:false; scale:1.2"
        gltf-model="#M_Dot_Line" position="-4.79 6 -13.5"
       rotation="0 90 0"
          click_sound cardboard_input onclick="onclickWrongOption(1,'AS_Dot_Line')">

        <a-sphere id="q1dHighl" highlight position="0.854 0.4 -0.353" rotation="0 90 0"
         radius="0.08" setactive="value:false; scale:0.02 "
         material="color:red;opacity:.8">
       </a-sphere>
      </a-entity>
          <!-------------------------------onClickModel3Q1();--------------------Q1 Option E -------------------------->

            <a-entity id="AS_Double_Arrow" setactive="value:false; scale:1"
            gltf-model="#M_Double_Arrow" position="6 5.5 -11"
             rotation="0 90 0"
            click_sound cardboard_input onclick="onclickWrongOption(1,'AS_Double_Arrow')">

            <a-sphere id="q1eHighl" highlight position="0.5 0.3 0.212" rotation="0 60 0"
            setactive="value:false; scale:.2" radius="0.07"
             material="color:red;opacity:.8">
           </a-sphere>

            </a-entity>

          <!-------------------------------onClickModel3Q1();--------------------Q1 Option F -------------------------->

            <a-entity id="AS_Single_Arrow" setactive="value:false; scale:1"
            gltf-model="#M_Single_Arrow" position="1 5 -11.5"
             rotation="0 90 0"
            click_sound cardboard_input onclick="onClickRightOption(1);">

            <a-sphere id="q1fHighl" highlight position="1 0.339 -0.035" rotation="0 60 0"
            setactive="value:false; scale:.2" radius="0.08"
             material="color:green;opacity:.8">
           </a-sphere>

          </a-entity>

<!-- -----------------------End Relax Mode------------------------------------ -->

<!----------------------------------- Start Timer Mode -------------------------------->

<!------------------------------------------ End Timer Mode----------------------------------- -->
          <!------------Correct Answer Panel Button ---------------------- -->

          <a-entity id="p_As_LineText" position="0 2 -3" rotation="0 0 0"
                    setactive="value:false" geometry="primitive: plane; width: 1; height: 0.6"
                    material="color: black; opacity:1">

                    <a-text
                     text="value:This is a line.;"  position="0 0.1 0"
                     align="center" width="2.8">
                    </a-text>

                   <a-image id="btn_ok" position="0 -0.1 0.01"
                            geometry="primitive: plane; width: 0.5; height: 0.25"
                            material="color: black; opacity:0.8"
                            text="value: OK; align:center; width: 3; color: white"
                            click_sound cardboard_input color_hover onclick="onClickOkAfterQ(1);">
                    </a-image>

           </a-entity>

           <a-entity id="p_As_IntersectText" position="0 2 -3" rotation="0 0 0"
                     setactive="value:false" geometry="primitive: plane; width: 1.8; height: 0.6"
                     material="color: black; opacity:1">

                     <a-text
                      text="value:These are intersecting lines.;"  position="0 0.1 0"
                      align="center" width="2.8">
                     </a-text>

                    <a-image id="btn_ok" position="0 -0.1 0.01"
                             geometry="primitive: plane; width: 0.5; height: 0.25"
                             material="color: black; opacity:0.8"
                             text="value: OK; align:center; width: 3; color: white"
                             click_sound cardboard_input color_hover onclick="onClickOkAfterQ(2);">
                     </a-image>

            </a-entity>

            <a-entity id="p_As_RayText" position="0 2 -3" rotation="0 0 0"
                      setactive="value:false" geometry="primitive: plane; width: 1; height: 0.6"
                      material="color: black; opacity:1">

                      <a-text
                       text="value:This is the ray.;"  position="0 0.1 0"
                       align="center" width="2.8">
                      </a-text>

                     <a-image id="btn_ok" position="0 -0.1 0.01"
                              geometry="primitive: plane; width: 0.5; height: 0.25"
                              material="color: black; opacity:0.8"
                              text="value: OK; align:center; width: 3; color: white"
                              click_sound cardboard_input color_hover onclick="onClickOkAfterQ(3);">
                      </a-image>

             </a-entity>


             <a-entity id="p_As_PointText" position="0 2 -3" rotation="0 0 0"
                       setactive="value:false" geometry="primitive: plane; width: 1; height: 0.6"
                       material="color: black; opacity:1">

                       <a-text
                        text="value:This is a point.;"  position="0 0.1 0"
                        align="center" width="2.8">
                       </a-text>

                      <a-image id="btn_ok" position="0 -0.1 0.01"
                               geometry="primitive: plane; width: 0.5; height: 0.25"
                               material="color: black; opacity:0.8"
                               text="value: OK; align:center; width: 3; color: white"
                               click_sound cardboard_input color_hover onclick="onClickOkAfterQ(4);">
                       </a-image>

              </a-entity>

              <a-entity id="p_As_LineSegmentText" position="0 2 -3" rotation="0 0 0"
                        setactive="value:false" geometry="primitive: plane; width: 1.4; height: 0.6"
                        material="color: black; opacity:1">

                        <a-text
                         text="value:This is a line segment.;"  position="0 0.1 0"
                         align="center" width="2.8">
                        </a-text>

                       <a-image id="btn_ok" position="0 -0.1 0.01"
                                geometry="primitive: plane; width: 0.5; height: 0.25"
                                material="color: black; opacity:0.8"
                                text="value: OK; align:center; width: 3; color: white"
                                click_sound cardboard_input color_hover onclick="onClickOkAfterQ(5);">
                        </a-image>

               </a-entity>

               <a-entity id="p_As_ParallelLineText" position="0 2 -3" rotation="0 0 0"
                         setactive="value:false" geometry="primitive: plane; width: 1.5; height: 0.6"
                         material="color: black; opacity:1">

                         <a-text
                          text="value:These are parallel lines.;"  position="0 0.1 0"
                          align="center" width="2.8">
                         </a-text>

                        <a-image id="btn_ok" position="0 -0.1 0.01"
                                 geometry="primitive: plane; width: 0.5; height: 0.25"
                                 material="color: black; opacity:0.8"
                                 text="value: OK; align:center; width: 3; color: white"
                                 click_sound cardboard_input color_hover onclick="onClickOkAfterQ(6);">
                         </a-image>

                </a-entity>

           <!------------End Answer Panel Button ---------------------- -->
          <!-- -------------------------End all question models -------------- -->

<!-- -------------------------------------Start All fix position Models------------------------------- -->

<a-entity id="AS_Cross_ArrowFix" setactive="value:false; scale:0.15"
gltf-model="#M_Cross_Arrow" position="0 1.4 -1.4"
scale="0.15 0.15 0.15" rotation="0 90 0" click_sound cardboard_input onclick="">

</a-entity>

<!-----------#1702d2----------------------------------------Q1 Option B -------------------------->

<a-entity id="AS_DotFix" setactive="value:false; scale:0.15"
gltf-model="#M_Dot" position="0 1.4 -1.4" scale="0.15 0.15 0.15"
 rotation="0 90 0"  click_sound cardboard_input onclick="">

</a-entity>

<!-------------------------------onClickModel3Q1();--------------------Q1 Option C -------------------------->

<a-entity id="AS_Dot_ArrowFix" setactive="value:false; scale:0.15"
gltf-model="#M_Dot_Arrow" position="0 1.4 -1.4"
 rotation="0 90 0"
click_sound cardboard_input onclick="">

</a-entity>
<!----------------------------onClickModel4Q1();-----------------------Q1 Option D -------------------------->
<a-entity id="AS_Dot_LineFix" setactive="value:false; scale:0.15"
gltf-model="#M_Dot_Line" position="0 1.4 -1.4"
rotation="0 90 0"
  click_sound cardboard_input onclick="">
</a-entity>

  <!-------------------------------onClickModel3Q1();--------------------Q1 Option E -------------------------->

    <a-entity id="AS_Double_ArrowFix" setactive="value:false; scale:0.15"
    gltf-model="#M_Double_Arrow" position="0 1.4 -1.4"
     rotation="0 90 0"
    click_sound cardboard_input onclick="">
    </a-entity>


  <!-------------------------------onClickModel3Q1();--------------------Q1 Option F -------------------------->

    <a-entity id="AS_Single_ArrowFix" setactive="value:false; scale:0.15"
    gltf-model="#M_Single_Arrow" position="0 1.4 -1.4"
     rotation="0 90 0">
    </a-entity>

          <!---------------------  Ending All Options --------------------  -->



      <a-entity id="p_comp_as" position="0 2 -3" setactive="value:false"
      geometry="primitive: plane; width: 2.4; height: 1.1" material="color: black; opacity:1">

          <a-text value="You have completed the assessment.
  Here is your score:" position="0 0.3 0" align="center" width="2.8"></a-text>

          <a-text id="score_percent" value="100%" position="0 0 0" align="center" width="2.8"></a-text>

          <a-image id="btn_ok" mixin="OK" width="0.5" height="0.25" position="0 -0.2 0.01"
          onclick="p_comp_as_click();">

      </a-entity>


          <a-entity id="p_lessthan" position="0 2 -3" setactive="value:false" geometry="primitive: plane; width: 3; height: 1.1" material="color: black; opacity:1">
          <a-text value="You have scored less than 60%. After returning
          to the menu, you can try the assessment
          again to improve your score, or you can exit." position="0 0.2 0" align="center" width="2.8"></a-text>
          <a-image id="btn_ok" mixin="OK" width="0.5" height="0.25" position="0 -0.3 0.01"
          onclick="p_lessthan_click();">
          </a-entity>


          <a-entity id="p_greaterthan" position="0 2 -3" setactive="value:false" geometry="primitive: plane; width: 3; height: 1.1" material="color: black; opacity:1">
          <a-text value="You scored well and you have completed the module! Select OK to return to the menu where you can exit." position="0 0.2 0" align="center" width="2.8"></a-text>
          <a-image id="btn_ok" mixin="OK" width="0.5" height="0.25" position="0 -0.3 0.01"
          onclick="p_greaterthan_click();">
          </a-entity>
  </a-entity>
    <!-- ----------------------------  /A_Knowledge  ------------------------------------- -->


  <!------------------------------------------ Camera instructions -->

                <a-camera look-controls wasd-controls="ad-enabled:false;ws-enabled:false">
                <a-cursor fuse="false" cursor-zoom id="cursor" setactive="value:false" fuseTimeout='60000' rayOrigin="mouse" geometry="primitive: ring" material="color: white;  shader: flat">
                </a-cursor>

                  <a-entity id="i_ClickOnAllPart_Lvl1" setactive="value:false ; scale :0.1" vo_enable position="0 -0.13 -0.3" scale="0.1 0.1 0.1"
                  geometry="primitive: plane; width: 2.5; height: 0.4" material="color: black; opacity:1"
                  text="value:Click on the nucleus and/or the electrons to further explore Rutherford's atomic model.; align:center; width: 2.8;">
                  </a-entity>

                  <a-entity id="l_score" setactive="value:false ; scale: 0.1" position="-0.10 0.1 -0.3" scale="0.1 0.1 0.1"
                  geometry="primitive: plane; width: 0.8; height: 0.25" material="color: black; opacity:1" text="value: Score : 0 ; align:center; width: 2.8;">
                  </a-entity>

                  <a-entity id="i_timer" setactive="value:false ; scale: 0.1" position="0.10 0.1 -0.3" scale="0.1 0.1 0.1"
                  geometry="primitive: plane; width: 0.8; height: 0.25" material="color: black; opacity:1" text="value: Time :10 ; align:center; width: 2.8;">
                  </a-entity>

                  <a-entity id="i_timeup" setactive="value:false ; scale: 0.1" position="0 0.05 -0.3" scale="0.1 0.1 0.1"
                  geometry="primitive: plane; width: 0.8; height: 0.25" material="color: black; opacity:1" text="value: Times up ; align:center; width: 2.8;">
                  </a-entity>

                  <a-entity id="i_AS_Rq1" setactive="value:false ; scale :0.1" vo_enable position="0 -0.13 -0.3" scale="0.1 0.1 0.1"
                  geometry="primitive: plane; width: 1.4; height: 0.3" material="color: black; opacity:1"
                  text="value:Click on the Line.; align:center; width: 2.8;">
                  </a-entity>

                  <a-entity id="i_AS_Rq2" setactive="value:false ; scale :0.1" vo_enable position="0 -0.13 -0.3" scale="0.1 0.1 0.1"
                  geometry="primitive: plane; width: 1.8; height: 0.3" material="color: black; opacity:1"
                  text="value:Click on the intersecting lines.; align:center; width: 2.8;">
                  </a-entity>

                  <a-entity id="i_AS_Rq3" setactive="value:false ; scale :0.1" vo_enable position="0 -0.13 -0.3" scale="0.1 0.1 0.1"
                  geometry="primitive: plane; width: 1.8; height: 0.3" material="color: black; opacity:1"
                  text="value:Click on the ray.; align:center; width: 2.8;">
                  </a-entity>

                  <a-entity id="i_AS_Rq4" setactive="value:false ; scale :0.1" vo_enable position="0 -0.13 -0.3" scale="0.1 0.1 0.1"
                  geometry="primitive: plane; width: 1.8; height: 0.3" material="color: black; opacity:1"
                  text="value:Click on the point.; align:center; width: 2.8;">
                  </a-entity>

                  <a-entity id="i_AS_Rq5" setactive="value:false ; scale :0.1" vo_enable position="0 -0.13 -0.3" scale="0.1 0.1 0.1"
                  geometry="primitive: plane; width: 1.8; height: 0.3" material="color: black; opacity:1"
                  text="value:Click on the line segment.; align:center; width: 2.8;">
                  </a-entity>

                  <a-entity id="i_AS_Rq6" setactive="value:false ; scale :0.1" vo_enable position="0 -0.13 -0.3" scale="0.1 0.1 0.1"
                  geometry="primitive: plane; width: 1.8; height: 0.3" material="color: black; opacity:1"
                  text="value:Click on the parallel lines.; align:center; width: 2.8;">
                  </a-entity>

                   <a-entity id="i_selectTheMgStruc_AS" setactive="value:false ; scale :0.1" vo_enable position="0 -0.13 -0.3" scale="0.1 0.1 0.1"
                    geometry="primitive: plane; width: 2.3; height: 0.4" material="color: black; opacity:1"
                    text="value:Select the structure of a magnesium atom according to Rutherford's atomic model.;align:center; width: 2.6;">
                   </a-entity>

                   <a-entity id="p_WellDone_AS" setactive="value:false ; scale :0.1" vo_enable position="0 0 -0.3" scale="0.1 0.1 0.1"
                   geometry="primitive: plane; width: 0.6; height: 0.3" material="color: black; opacity:1"
                   text="value:WellDone!;color:green;align:center; width: 2.6;">
                   </a-entity>
                   <a-entity id="p_TryAgain_AS" setactive="value:false ; scale :0.1" vo_enable position="0 0 -0.3" scale="0.1 0.1 0.1"
                    geometry="primitive: plane; width: 0.6; height: 0.3" material="color: black; opacity:1"
                    text="value:TryAgain.;color:red;align:center; width: 2.6;">
                   </a-entity>

    </a-camera>

</a-scene>

<!-- -------------------------------------------------------------------------------------------------------------------- -->
<script>
    var assetsId = '#assets';
    var entity = document.querySelector(assetsId);
    var controllerId = null;

    if (entity != null) {
        entity.addEventListener("loaded", function() {
            console.log("All Assets looded");
            setTimeout(ShowMainMenu, 2000);
            setInterval(ActivateController, 1000);
            login_isUserAuthenticated();

        });

        entity.addEventListener("timeout", function() {
            console.log("Time up to load assets");
            setTimeout(location.reload.bind(location), 500);
        });

    } else {
        console.log("Exception : Id not found ID: ", assetsId);
    }


    function ShowMainMenu() {
        SetActive('#MainMenu', true);
        if (!login_isReferred()) {
            SetActive('#btn_close', false);
        }
    }


    function ActivateController() {
        let cId = "";

        if (AFRAME.utils.device.isGearVR()) {
            cId = '#gvrc';
            app_device_platform = "GearVR";
        } else if (isDayDream()) {
            cId = '#ddc';
            var gvrc = document.querySelector('#gvrc');
            var oc = document.querySelector('#oc');
            gvrc.parentNode.removeChild(gvrc);
            oc.parentNode.removeChild(oc);
            SetActive('#cursor', false);
            app_device_platform = "Daydream";
        } else if (AFRAME.utils.device.isOculusGo()) {
            cId = '#oc';
            app_device_platform = "OculusGo";
        } else {
            cId = '#cursor';

            let isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

            if (isMobile) {
                app_device_platform = "Cardboard";
                let scene = document.querySelector('a-scene');
                //scene.setAttribute('vr-mode-ui','enabled',true);
            } else {
                app_device_platform = "Desktop";
                let scene = document.querySelector('a-scene');
                //scene.setAttribute('vr-mode-ui','enabled',false);
            }

        }

        if (cId != controllerId) {
            SetActive(controllerId, false);
            controllerId = cId;
            SetActive(controllerId, true);
            console.log("controller id is ", controllerId);
        }
    }

    function isDayDream() {
        let isDayDream = false;
        let gamepad = navigator.getGamepads()[0];
        if (gamepad != undefined) {
            let gamepadId = gamepad.id;
            isDayDream = gamepadId.includes("Daydream") || gamepadId.includes("daydream");
        }
        return isDayDream;
    }


    window.onload = function() {

        login_referred_set();

        if (!login_isUserAuthenticated()) {
          // window.location.href = "http://ec2-52-5-117-32.compute-1.amazonaws.com/unicef/public/";
        } else {
            console.log("Id : ", login_getCookie('unicef_user_id'));
        }

      //  setInterval(AuthCheck, 3000);

    };


    // function AuthCheck()
    // {
    //   if (!login_isUserAuthenticated()) {
    //       window.location.href = "http://ec2-52-5-117-32.compute-1.amazonaws.com/unicef/public/";
    //   }
    // }



</script>
